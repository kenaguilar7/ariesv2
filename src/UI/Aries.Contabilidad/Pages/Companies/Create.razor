@page "/companies/create"
@using Aries.Contabilidad.Models.DTOs
@using Aries.Contabilidad.Services
@inject IClientCompanyService CompanyService
@inject NavigationManager NavigationManager

<h3>Create Company</h3>

<CompanyForm 
    Company="@company"
    ButtonText="Create"
    OnValidSubmit="@HandleValidSubmit"
    OnCancel="@HandleCancel" />

@code {
    private CompanyDto company = new();

    private async Task HandleValidSubmit()
    {
        await CompanyService.CreateCompanyAsync(company);
        NavigationManager.NavigateTo("/companies");
    }

    private void HandleCancel()
    {
        NavigationManager.NavigateTo("/companies");
    }
} 